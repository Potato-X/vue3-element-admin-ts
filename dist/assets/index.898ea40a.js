import{I as e,ay as a,a as s,$ as l,af as r,l as o,m as n,p as d,X as u,Q as i,u as t,a7 as p,P as m,V as c,az as f,aA as v}from"./vue.56efbdad.js";import{s as g,_ as y}from"./index.98896fb7.js";import{E as _}from"./element-plus.fb75da24.js";const b=e=>(f("data-v-f01c5acf"),e=e(),v(),e),k={class:"login-wrap"},w={class:"login-content"},V=b((()=>d("div",{class:"login-title"},"系统登录",-1))),z={class:"login-btn"},h=c("登录"),U=b((()=>d("p",{class:"login-tips"},"用户名: admin 密码: 123",-1))),j=b((()=>d("p",{class:"login-tips"},"用户名: editor 密码: 456",-1))),x=y(e({setup(e){const c=a(),f=s(!1),v=s(!0),y=s("password"),b=s(),x=l({username:"",password:""}),C=l({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),I=()=>{v.value?y.value="text":y.value="password",v.value=!v.value},q=async()=>{var e;null==(e=b.value)||e.validate((e=>{e?(f.value=!0,g.dispatch("user/login",x).then((()=>{c.push("/")})).finally((()=>{f.value=!1}))):_.error("请输入用户名和密码")}))};return(e,a)=>{const s=r("I"),l=r("el-input"),c=r("el-form-item"),g=r("el-button"),_=r("el-form");return o(),n("div",k,[d("div",w,[V,u(_,{ref_key:"loginFormRef",ref:b,class:"login-form",model:t(x),rules:t(C)},{default:i((()=>[u(c,{prop:"username"},{default:i((()=>[u(l,{modelValue:t(x).username,"onUpdate:modelValue":a[0]||(a[0]=e=>t(x).username=e),clearable:"",placeholder:"用户名",size:"large"},{prepend:i((()=>[u(s,{name:"UserFilled",size:"14"})])),_:1},8,["modelValue"])])),_:1}),u(c,{prop:"password"},{default:i((()=>[u(l,{modelValue:t(x).password,"onUpdate:modelValue":a[1]||(a[1]=e=>t(x).password=e),placeholder:"密码",size:"large",type:y.value,onKeyup:p(q,["enter"])},{prepend:i((()=>[v.value?(o(),m(s,{key:0,name:"Lock",size:"14",onClick:I})):(o(),m(s,{key:1,name:"Unlock",size:"14",onClick:I}))])),_:1},8,["modelValue","type","onKeyup"])])),_:1}),d("div",z,[u(g,{type:"primary",loading:f.value,onClick:q},{default:i((()=>[h])),_:1},8,["loading"])]),U,j])),_:1},8,["model","rules"])])])}}}),[["__scopeId","data-v-f01c5acf"]]);export{x as default};
